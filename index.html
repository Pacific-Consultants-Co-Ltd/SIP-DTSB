<!DOCTYPE html>
<html lang="ja">

<head>
	<title>【入力】デジタルツインサンドボックス</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/js/leaflet/leaflet.css" />
	<link rel="stylesheet" href="assets/css/common.css" />
	<style>
		details.c-route {
			position: relative;
			max-height: 400px;
			overflow-y: auto;
		}

		details.c-route>summary {
			position: sticky;
			top: 0;
			z-index: 10;
			background: #fff;
			padding: 12px 16px;
			border-bottom: 1px solid #ddd;
		}

		details.c-route>.c-route__setting {
			padding-top: 40px;
		}
	</style>

	<style>
		/* Main range styling */
		.c-input__range-wrap.dual {
			position: relative;
			height: 36px;
			margin-top: 10px;
		}

		.c-input__range-wrap.dual input[type=range] {
			position: absolute;
			width: 100%;
			height: 6px;
			margin: 0;
			-webkit-appearance: none;
			background: transparent;
			pointer-events: none;
			/* Disable interaction on track */
			z-index: 1;
		}

		.c-input__range-wrap.dual input[type=range]#fareRangeMin {
			z-index: 1;
		}

		.c-input__range-wrap.dual input[type=range]#fareRangeMax {
			z-index: 2;
		}

		.c-input__range-wrap.dual input[type=range]::-webkit-slider-thumb {
			-webkit-appearance: none;
			pointer-events: all;
			/* Enable interaction only on thumb */
			width: 16px;
			height: 16px;
			background: #007bff;
			border: 2px solid #fff;
			border-radius: 50%;
			box-shadow: 0 0 1px rgba(0, 0, 0, 0.4);
			cursor: pointer;
			margin-top: -5px;
		}

		.c-input__range-wrap.dual input[type=range]::-moz-range-thumb {
			pointer-events: all;
			width: 16px;
			height: 16px;
			background: #007bff;
			border: 2px solid #fff;
			border-radius: 50%;
			cursor: pointer;
		}


		.c-input__range-wrap.dual input[type=range]:nth-child(2) {
			z-index: 2;
			/* ensures upper thumb is on top */
		}

		.c-input__range-wrap.dual input[type=range]::-webkit-slider-runnable-track {
			height: 6px;
			background: #ccc;
			border-radius: 3px;
		}

		.c-input__range-wrap.dual input[type=range]::-webkit-slider-thumb {
			-webkit-appearance: none;
			pointer-events: all;
			width: 16px;
			height: 16px;
			background: #ffae00;
			border: 2px solid #fff;
			border-radius: 50%;
			box-shadow: 0 0 1px rgba(0, 0, 0, 0.4);
			cursor: pointer;
			margin-top: -5px;
		}

		.c-input__range-wrap.dual input[type=range]::-moz-range-thumb {
			width: 16px;
			height: 16px;
			background: #ff9100;
			border: 2px solid #fff;
			border-radius: 50%;
			cursor: pointer;
		}

		.c-input__range-mark {
			position: absolute;
			top: 50%;
			left: 0;
			right: 0;
			height: 6px;
			background: rgba(0, 123, 255, 0.2);
			border-radius: 3px;
			transform: translateY(-50%);
			z-index: 0;
		}

		.fare-inputs {
			margin-top: 10px;
			display: flex;
			align-items: center;
			gap: 10px;
		}

		/* Display styling */
		.c-input__range-display {
			display: flex;
			align-items: baseline;
			gap: 4px;
			font-size: 1.1em;
		}

		.c-input__range-display strong {
			font-weight: bold;
			font-size: 1.2em;
		}

		.c-input__range-separator {
			padding: 0 4px;
		}

		.c-input__range-unit {
			font-size: 0.9em;
			margin-left: 4px;
		}

		.c-input__range-diff {
			color: #888;
			margin-left: 8px;
			font-size: 0.85em;
		}
	</style>

</head>

<body>
	<div class="l-container js-menu-toggle p-simulation">
		<header class="l-header">
			<div class="l-header__tit js-menu-toggle">
				<span class="l-header__tit-en">DTSB</span>
				<h1 class="l-header__tit-jp">デジタルツインサンドボックス</h1>
			</div>
			<nav class="l-header__nav">
				<a href="#" class="l-header__nav-link logout js-menu-toggle"><span>ログアウト</span></a>
				<a href="./"
					class="l-header__nav-link simulation current js-menu-toggle js-menu-simulation"><span>シミュレーション</span></a>
				<a href="list.html" class="l-header__nav-link results js-menu-toggle"><span>結果一覧</span></a>
				<span class="l-header__nav-link menu js-menu-open js-menu-toggle"><span>メニューを閉じる</span></span>
			</nav>
		</header>
		<main class="l-contents">
			<header class="l-contents__head">
				<div class="breadcrumb-wrapper">
					<nav class="breadcrumb-arrow">
						<ul>
							<li class="step step-input CURRENT"><a href="index.html">入力</a></li>
							<li class="step step-results"><a href="results.html">結果</a></li>
							<li class="step step-list"><a href="list.html">登録した結果一覧</a></li>
						</ul>
					</nav>
				</div>

				<h1 class="l-contents__tit">入力</h1>
				<div class="l-contents__parameter">
					<span class="l-contents__parameter-tit">パラメーター</span>
					<nav class="l-contents__parameter-nav">
						<span class="l-contents__parameter-link js-parameter current">現状</span>
						<span class="l-contents__parameter-link js-parameter">シナリオ1</span>
						<span class="l-contents__parameter-link js-parameter">シナリオ2</span>
					</nav>
				</div>
				<!-- <span class="l-fixed__open l-contents__useful c-btn js-fixed-open" data-fixed="useful">便利機能</span> -->
				<button type="button" class="l-fixed__open l-contents__useful c-btn js-fixed-open" data-fixed="useful">
					便利機能
				</button>

			</header>
			<form class="l-contents__main column02" action="results.html">
				<input type="hidden" name="loading" value="true">
				<div class="l-contents__map">
					<div class="l-contents__map-load" id="map"></div>
					<span class="l-contents__map-mode js-route-mode">専用レーンモード</span>
					<div class="l-contents__map-data">
						<div class="scroll">
							<span class="c-btn__small c-btn__small-black legends u-hover-op js-legends">凡例</span>
							<dl class="l-contents__map-view">
								<dt>表示切替</dt>
								<dd>
									<label class="l-contents__map-btn">
										<input type="checkbox" id="data_root" name="data_root" checked>
										<span class="btn">路線</span>
									</label>
									<label class="l-contents__map-btn">
										<input type="checkbox" id="data_passengers" name="data_passengers">
										<span class="btn">乗降客数</span>
									</label>
								</dd>
							</dl>
							<div class="l-contents__map-population">
								<label class="l-contents__map-btn">
									<input type="checkbox" class="js-population" name="data_population">
									<span class="btn">人口推計</span>
								</label>
								<label class="l-contents__map-year">
									<span class="tit">年代</span>
									<div class="range-wrap">
										<div class="years u-en">
											<span class="min-value js-year-min">2015</span>
											<span class="current-value js-year-current">2025</span>
											<span class="max-value js-year-max">2050</span>
										</div>
										<div class="range-box">
											<input class="range js-year" type="range" name="data_year" value="2025"
												min="2015" max="2050" step="5" />
											<ul class="scale">
												<li class="min"></li>
												<li></li>
												<li></li>
												<li></li>
												<li></li>
												<li></li>
												<li></li>
												<li class="max"></li>
											</ul>
										</div>
									</div>
								</label>
							</div>
						</div>
						<div class="l-contents__map-legends js-legends-contents">
							<i class="close js-legends-close"></i>
							<dl>
								<dt>人口推計</dt>
								<dd>
									<ul class="population">
										<li><span>0 - 10</span></li>
										<li><span>11 - 50</span></li>
										<li><span>51 - 100</span></li>
										<li><span>101 - 200</span></li>
										<li><span>201 - 300</span></li>
										<li><span>301 - 600</span></li>
										<li><span>601 - 1000</span></li>
										<li><span>1001 - 2000</span></li>
										<li><span>2001 - 5000</span></li>
										<li><span>5001 - 7000</span></li>
										<li><span>7001 以上</span></li>
									</ul>
								</dd>
							</dl>
						</div>
					</div>
				</div>
				<div class="l-contents__data">
					<div class="c-box c-box__route c-area__scroll">
						<div class="c-box__route-wrap">
							<!--現状-->
							<div class="c-box__route-content js-parameter-content current">
								<!--現状：路線A-->
								<details class="c-route c-details js-route" data-route="current_route_a" open>
									<summary class="c-details__summary">路線A</summary>
									<dl class="c-route__setting">
										<dt>BRT導入</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio" name="current_a_brt"
													value="0" checked>無</label>
											<label class="c-input__radio-label"><input type="radio" name="current_a_brt"
													value="1">有</label>
										</dd>
										<dt>運賃
											<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="current_a_fare">リセット</span>
										</dt>
										<dd class="c-input__range" id="current_a_fare">
											<span class="c-input__range-unit">運賃 (円)</span>
											<div class="c-input__range-container js-range">
												<div class="c-input__range-display u-en js-range-change"
													aria-label="Fare range">
													<strong class="js-range-min-value">120</strong>
													<span class="c-input__range-separator">〜</span>
													<strong class="js-range-max-value">390</strong>
													<span class="c-input__range-unit">円</span>
													<small class="js-range-diff c-input__range-diff">(±0)</small>
												</div>

												<div class="c-input__range-minmax u-en">
													<span class="js-range-min">0</span>
													<span class="js-range-max">1000</span>
												</div>

												<div class="c-input__range-wrap dual">
													<input type="range" id="fareRangeMin" min="0" max="1000" value="120"
														class="c-input__range-slider js-range-slider" />
													<input type="range" id="fareRangeMax" min="0" max="1000" value="390"
														class="c-input__range-slider js-range-slider" />
													<i class="c-input__range-mark js-range-mark equal"></i>
												</div>

												<div class="fare-inputs u-en">
													<input type="number" id="fareMinInput" value="120" min="0"
														max="1000"> 円 ～
													<input type="number" id="fareMaxInput" value="390" min="0"
														max="1000"> 円
												</div>

												<span
													class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
											</div>
										</dd>

										<dt>運航頻度<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="current_a_frequency">まとめてリセット</span></dt>
										<dd id="current_a_frequency">
											<dl class="c-frequency">
												<dt class="c-frequency__hours">6～9時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_a_frequency_0609">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_a_frequency_0609">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_a_frequency_0609"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">9～12時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_a_frequency_0912">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_a_frequency_0912">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_a_frequency_0912"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">12～15時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_a_frequency_1215">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_a_frequency_1215">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_a_frequency_1215"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">15～18時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_a_frequency_1518">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_a_frequency_1518">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_a_frequency_1518"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">18～21時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_a_frequency_1821">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_a_frequency_1821">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_a_frequency_1821"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">21時～<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_a_frequency_21">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_a_frequency_21">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_a_frequency_21" value="2"
																data-saved="2" data-default="2" min="0" max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
											</dl>
										</dd>
										<dt>専用レーン</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="current_a_lanes" class="js-route-lanes" value="0"
													checked>無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="current_a_lanes" class="js-route-lanes" value="1">有</label>
										</dd>
										<dt>隊列走行</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="current_a_platooning" value="0" checked>無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="current_a_platooning" value="1">有</label>
										</dd>
									</dl>
								</details>
								<!--//現状：路線A-->
								<!--現状：路線B-->
								<details class="c-route c-details js-route" data-route="current_route_b">
									<summary class="c-details__summary">路線B</summary>
									<dl class="c-route__setting">
										<dt>BRT導入</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio" name="current_b_brt"
													value="0" checked>無</label>
											<label class="c-input__radio-label"><input type="radio" name="current_b_brt"
													value="1">有</label>
										</dd>
										<dt>運賃
											<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="current_b_fare">リセット</span>
										</dt>
										<dd class="c-input__range" id="current_b_fare">
											<span class="c-input__range-unit">運賃 (円)</span>
											<div class="c-input__range-container js-range">
												<div class="c-input__range-display u-en js-range-change"
													aria-label="Fare range">
													<strong class="js-range-min-value">120</strong>
													<span class="c-input__range-separator">〜</span>
													<strong class="js-range-max-value">390</strong>
													<span class="c-input__range-unit">円</span>
													<small class="js-range-diff c-input__range-diff">(±0)</small>
												</div>

												<div class="c-input__range-minmax u-en">
													<span class="js-range-min">0</span>
													<span class="js-range-max">1000</span>
												</div>

												<div class="c-input__range-wrap dual">
													<!-- B-specific IDs here: -->
													<input type="range" id="fareRangeMinB" min="0" max="1000"
														value="120" class="c-input__range-slider js-range-slider" />
													<input type="range" id="fareRangeMaxB" min="0" max="1000"
														value="390" class="c-input__range-slider js-range-slider" />
													<i class="c-input__range-mark js-range-mark equal"></i>
												</div>

												<div class="fare-inputs u-en">
													<input type="number" id="fareMinInputB" value="120" min="0"
														max="1000"> 円 ～
													<input type="number" id="fareMaxInputB" value="390" min="0"
														max="1000"> 円
												</div>

												<!-- hidden for form submission -->
												<input type="hidden" name="current_b_fare_min"
													id="current_b_fare_min_hidden" value="120">
												<input type="hidden" name="current_b_fare_max"
													id="current_b_fare_max_hidden" value="390">
												<span
													class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
											</div>
										</dd>

										<dt>運航頻度<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="current_b_frequency">まとめてリセット</span></dt>
										<dd id="current_b_frequency">
											<dl class="c-frequency">
												<dt class="c-frequency__hours">6～9時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_b_frequency_0609">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_b_frequency_0609">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_b_frequency_0609"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">9～12時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_b_frequency_0912">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_b_frequency_0912">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_b_frequency_0912"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">12～15時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_b_frequency_1215">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_b_frequency_1215">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_b_frequency_1215"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">15～18時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_b_frequency_1518">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_b_frequency_1518">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_b_frequency_1518"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">18～21時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_b_frequency_1821">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_b_frequency_1821">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_b_frequency_1821"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">21時～<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="current_b_frequency_21">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="current_b_frequency_21">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="current_b_frequency_21" value="2"
																data-saved="2" data-default="2" min="0" max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
											</dl>
										</dd>
										<dt>専用レーン</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="current_b_lanes" class="js-route-lanes" value="0"
													checked>無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="current_b_lanes" class="js-route-lanes" value="1">有</label>
										</dd>
										<dt>隊列走行</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="current_b_platooning" value="0" checked>無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="current_b_platooning" value="1">有</label>
										</dd>
									</dl>
								</details>
								<!--//現状：路線B-->
							</div>
							<!--//現状-->
							<!--シナリオ1-->
							<div class="c-box__route-content js-parameter-content">
								<!--シナリオ1：路線A-->
								<details class="c-route c-details js-route" data-route="scenario01_route_a" open>
									<summary class="c-details__summary">路線A</summary>
									<dl class="c-route__setting">
										<dt>BRT導入</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_a_brt" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_a_brt" value="1" checked>有</label>
										</dd>
										<dt>運賃
											<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="scenario01_a_fare">リセット</span>
										</dt>

										<dd class="c-input__range" id="scenario01_a_fare">
											<span class="c-input__range-unit">運賃 (円)</span>

											<div class="c-input__range-container js-range">
												<div class="c-input__range-display u-en js-range-change"
													aria-label="Fare range">
													<strong class="js-range-min-value">140</strong>
													<span class="c-input__range-separator">〜</span>
													<strong class="js-range-max-value">410</strong>
													<span class="c-input__range-unit">円</span>
													<small class="js-range-diff c-input__range-diff">(±0)</small>
												</div>

												<div class="c-input__range-minmax u-en">
													<span class="js-range-min">0</span>
													<span class="js-range-max">1000</span>
												</div>

												<div class="c-input__range-wrap dual">
													<input type="range" id="fareRangeMin_scenario01_a" min="0"
														max="1000" value="140"
														class="c-input__range-slider js-range-slider" />
													<input type="range" id="fareRangeMax_scenario01_a" min="0"
														max="1000" value="410"
														class="c-input__range-slider js-range-slider" />
													<i class="c-input__range-mark js-range-mark equal"></i>
												</div>

												<div class="fare-inputs u-en">
													<input type="number" id="fareMinInput_scenario01_a" value="140"
														min="0" max="1000"> 円 ～
													<input type="number" id="fareMaxInput_scenario01_a" value="410"
														min="0" max="1000"> 円
												</div>

												<!-- hidden inputs to preserve form data -->
												<input type="hidden" name="scenario01_a_fare_min"
													id="scenario01_a_fare_min" value="140">
												<input type="hidden" name="scenario01_a_fare_max"
													id="scenario01_a_fare_max" value="410">

												<span
													class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
											</div>
										</dd>

										<dt>運航頻度<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="scenario01_a_frequency">まとめてリセット</span></dt>
										<dd id="scenario01_a_frequency">
											<dl class="c-frequency">
												<dt class="c-frequency__hours">6～9時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_a_frequency_0609">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_a_frequency_0609">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="4">4</span>
															<small class="js-range-diff" data-saved="(+2)">(+2)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_a_frequency_0609"
																value="4" data-saved="4" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">9～12時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_a_frequency_0912">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_a_frequency_0912">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="1">1</span>
															<small class="js-range-diff" data-saved="(-1)">(-1)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_a_frequency_0912"
																value="1" data-saved="1" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">12～15時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_a_frequency_1215">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_a_frequency_1215">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_a_frequency_1215"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">15～18時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_a_frequency_1518">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_a_frequency_1518">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_a_frequency_1518"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">18～21時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_a_frequency_1821">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_a_frequency_1821">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_a_frequency_1821"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">21時～<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_a_frequency_21">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_a_frequency_21">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_a_frequency_21"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
											</dl>
										</dd>
										<dt>専用レーン</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_a_lanes" class="js-route-lanes" value="0"
													checked>無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_a_lanes" class="js-route-lanes" value="1">有</label>
										</dd>
										<dt>隊列走行</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_a_platooning" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_a_platooning" value="1" checked>有</label>
										</dd>
									</dl>
								</details>
								<!--//シナリオ1：路線A-->
								<!--シナリオ1：路線B-->
								<details class="c-route c-details js-route" data-route="scenario01_route_b">
									<summary class="c-details__summary">路線B</summary>
									<dl class="c-route__setting">
										<dt>BRT導入</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_b_brt" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_b_brt" value="1" checked>有</label>
										</dd>
										<dt>運賃
											<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="scenario01_b_fare">リセット</span>
										</dt>
										<dd class="c-input__range" id="scenario01_b_fare">
											<span class="c-input__range-unit">運賃 (円)</span>
											<div class="c-input__range-container js-range">
												<div class="c-input__range-display u-en js-range-change"
													aria-label="Fare range">
													<strong class="js-range-min-value">120</strong>
													<span class="c-input__range-separator">〜</span>
													<strong class="js-range-max-value">390</strong>
													<span class="c-input__range-unit">円</span>
													<small class="js-range-diff c-input__range-diff">(±0)</small>
												</div>

												<div class="c-input__range-minmax u-en">
													<span class="js-range-min">0</span>
													<span class="js-range-max">1000</span>
												</div>

												<div class="c-input__range-wrap dual">
													<input type="range" id="fareRangeMin_scenario01_b" min="0"
														max="1000" value="120"
														class="c-input__range-slider js-range-slider" />
													<input type="range" id="fareRangeMax_scenario01_b" min="0"
														max="1000" value="390"
														class="c-input__range-slider js-range-slider" />
													<i class="c-input__range-mark js-range-mark equal"></i>
												</div>

												<div class="fare-inputs u-en">
													<input type="number" id="fareMinInput_scenario01_b" value="120"
														min="0" max="1000"> 円 ～
													<input type="number" id="fareMaxInput_scenario01_b" value="390"
														min="0" max="1000"> 円
												</div>

												<!-- Hidden for form submission -->
												<input type="hidden" name="scenario01_b_fare_min"
													id="scenario01_b_fare_min" value="120">
												<input type="hidden" name="scenario01_b_fare_max"
													id="scenario01_b_fare_max" value="390">

												<span
													class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
											</div>
										</dd>

										<dt>運航頻度<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="scenario01_b_frequency">まとめてリセット</span></dt>
										<dd id="scenario01_b_frequency">
											<dl class="c-frequency">
												<dt class="c-frequency__hours">6～9時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_b_frequency_0609">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_b_frequency_0609">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_b_frequency_0609"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">9～12時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_b_frequency_0912">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_b_frequency_0912">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_b_frequency_0912"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">12～15時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_b_frequency_1215">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_b_frequency_1215">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_b_frequency_1215"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">15～18時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_b_frequency_1518">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_b_frequency_1518">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_b_frequency_1518"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">18～21時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_b_frequency_1821">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_b_frequency_1821">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_b_frequency_1821"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">21時～<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario01_b_frequency_21">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario01_b_frequency_21">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario01_b_frequency_21"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
											</dl>
										</dd>
										<dt>専用レーン</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_b_lanes" class="js-route-lanes" value="0"
													checked>無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_b_lanes" class="js-route-lanes" value="1">有</label>
										</dd>
										<dt>隊列走行</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_b_platooning" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario01_b_platooning" value="1" checked>有</label>
										</dd>
									</dl>
								</details>
								<!--//シナリオ1：路線B-->
							</div>
							<!--//シナリオ1-->
							<!--シナリオ2-->
							<div class="c-box__route-content js-parameter-content">
								<!--シナリオ2：路線A-->
								<details class="c-route c-details js-route" data-route="scenario02_route_a" open>
									<summary class="c-details__summary">路線A</summary>
									<dl class="c-route__setting">
										<dt>BRT導入</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_a_brt" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_a_brt" value="1" checked>有</label>
										</dd>
										<dt>運賃
											<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="scenario02_a_fare">リセット</span>
										</dt>
										<dd class="c-input__range" id="scenario02_a_fare">
											<span class="c-input__range-unit">運賃 (円)</span>

											<div class="c-input__range-container js-range">
												<div class="c-input__range-display u-en js-range-change"
													aria-label="Fare range">
													<strong class="js-range-min-value">160</strong>
													<span class="c-input__range-separator">〜</span>
													<strong class="js-range-max-value">430</strong>
													<span class="c-input__range-unit">円</span>
													<small class="js-range-diff c-input__range-diff">(+40)</small>
												</div>

												<div class="c-input__range-minmax u-en">
													<span class="js-range-min">0</span>
													<span class="js-range-max">1000</span>
												</div>

												<div class="c-input__range-wrap dual">
													<input type="range" id="fareRangeMin_scenario02_a" min="0"
														max="1000" value="160"
														class="c-input__range-slider js-range-slider" />
													<input type="range" id="fareRangeMax_scenario02_a" min="0"
														max="1000" value="430"
														class="c-input__range-slider js-range-slider" />
													<i class="c-input__range-mark js-range-mark equal"></i>
												</div>

												<div class="fare-inputs u-en">
													<input type="number" id="fareMinInput_scenario02_a" value="160"
														min="0" max="1000"> 円 ～
													<input type="number" id="fareMaxInput_scenario02_a" value="430"
														min="0" max="1000"> 円
												</div>

												<!-- Hidden inputs for form submission -->
												<input type="hidden" name="scenario02_a_fare_min"
													id="scenario02_a_fare_min" value="160">
												<input type="hidden" name="scenario02_a_fare_max"
													id="scenario02_a_fare_max" value="430">
											</div>
										</dd>

										<dt>運航頻度<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="scenario02_a_frequency">まとめてリセット</span></dt>
										<dd id="scenario02_a_frequency">
											<dl class="c-frequency">
												<dt class="c-frequency__hours">6～9時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_a_frequency_0609">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_a_frequency_0609">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="6">6</span>
															<small class="js-range-diff" data-saved="(+4)">(+4)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_a_frequency_0609"
																value="6" data-saved="6" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">9～12時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_a_frequency_0912">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_a_frequency_0912">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="4">4</span>
															<small class="js-range-diff" data-saved="(+3)">(+3)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_a_frequency_0912"
																value="4" data-saved="4" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">12～15時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_a_frequency_1215">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_a_frequency_1215">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_a_frequency_1215"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">15～18時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_a_frequency_1518">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_a_frequency_1518">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_a_frequency_1518"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">18～21時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_a_frequency_1821">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_a_frequency_1821">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_a_frequency_1821"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">21時～<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_a_frequency_21">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_a_frequency_21">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_a_frequency_21"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
											</dl>
										</dd>
										<dt>専用レーン</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_a_lanes" class="js-route-lanes" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_a_lanes" class="js-route-lanes" value="1"
													checked>有</label>
										</dd>
										<dt>隊列走行</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_a_platooning" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_a_platooning" value="1" checked>有</label>
										</dd>
									</dl>
								</details>
								<!--//シナリオ2：路線A-->
								<!--シナリオ2：路線B-->
								<details class="c-route c-details js-route" data-route="scenario02_route_b">
									<summary class="c-details__summary">路線B</summary>
									<dl class="c-route__setting">
										<dt>BRT導入</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_b_brt" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_b_brt" value="1" checked>有</label>
										</dd>
										<dt>運賃
											<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="scenario02_b_fare">リセット</span>
										</dt>
										<dd class="c-input__range" id="scenario02_b_fare">
											<span class="c-input__range-unit">運賃 (円)</span>

											<div class="c-input__range-container js-range">
												<div class="c-input__range-display u-en js-range-change"
													aria-label="Fare range">
													<strong class="js-range-min-value">120</strong>
													<span class="c-input__range-separator">〜</span>
													<strong class="js-range-max-value">390</strong>
													<span class="c-input__range-unit">円</span>
													<small class="js-range-diff c-input__range-diff">(±0)</small>
												</div>

												<div class="c-input__range-minmax u-en">
													<span class="js-range-min">0</span>
													<span class="js-range-max">1000</span>
												</div>

												<div class="c-input__range-wrap dual">
													<input type="range" id="fareRangeMin_scenario02_b" min="0"
														max="1000" value="120"
														class="c-input__range-slider js-range-slider" />
													<input type="range" id="fareRangeMax_scenario02_b" min="0"
														max="1000" value="390"
														class="c-input__range-slider js-range-slider" />
													<i class="c-input__range-mark js-range-mark equal"></i>
												</div>

												<div class="fare-inputs u-en">
													<input type="number" id="fareMinInput_scenario02_b" value="120"
														min="0" max="1000"> 円 ～
													<input type="number" id="fareMaxInput_scenario02_b" value="390"
														min="0" max="1000"> 円
												</div>

												<!-- Hidden inputs for form submission -->
												<input type="hidden" name="scenario02_b_fare_min"
													id="scenario02_b_fare_min" value="120">
												<input type="hidden" name="scenario02_b_fare_max"
													id="scenario02_b_fare_max" value="390">

												<span
													class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
											</div>
										</dd>

										<dt>運航頻度<span class="c-btn__small c-btn__small-white reset js-reset"
												data-reset="scenario02_b_frequency">まとめてリセット</span></dt>
										<dd id="scenario02_b_frequency">
											<dl class="c-frequency">
												<dt class="c-frequency__hours">6～9時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_b_frequency_0609">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_b_frequency_0609">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_b_frequency_0609"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">9～12時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_b_frequency_0912">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_b_frequency_0912">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_b_frequency_0912"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">12～15時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_b_frequency_1215">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_b_frequency_1215">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_b_frequency_1215"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">15～18時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_b_frequency_1518">リセット</span></dt>
												<dd class="c-frequency__number c-input__range" id="scenario02_b_frequency_1518>
												<span class=" c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_b_frequency_1518"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">18～21時台<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_b_frequency_1821">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_b_frequency_1821">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_b_frequency_1821"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
												<dt class="c-frequency__hours">21時～<span
														class="c-btn__small c-btn__small-white reset js-reset"
														data-reset="scenario02_b_frequency_21">リセット</span></dt>
												<dd class="c-frequency__number c-input__range"
													id="scenario02_b_frequency_21">
													<span class="c-input__range-unit">台数(台)</span>
													<div class="c-input__range-container js-range">
														<span
															class="c-input__change c-input__range-change current-value u-en js-range-change">
															<span class="js-range-value" data-saved="2">2</span>
															<small class="js-range-diff" data-saved="(+0)">(+0)</small>
														</span>
														<div class="c-input__range-minmax u-en">
															<span class="js-range-min">0</span>
															<span class="js-range-max">10</span>
														</div>
														<div class="c-input__range-wrap">
															<input type="range" name="scenario02_b_frequency_21"
																value="2" data-saved="2" data-default="2" min="0"
																max="10"
																class="c-input__range-slider js-range-slider" />
															<i class="c-input__range-mark js-range-mark equal"></i>
														</div>
														<span
															class="c-input__saved c-input__range-saved u-en js-range-saved"></span>
													</div>
												</dd>
											</dl>
										</dd>
										<dt>専用レーン</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_b_lanes" class="js-route-lanes" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_b_lanes" class="js-route-lanes" value="1"
													checked>有</label>
										</dd>
										<dt>隊列走行</dt>
										<dd class="c-input__radio">
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_b_platooning" value="0">無</label>
											<label class="c-input__radio-label"><input type="radio"
													name="scenario02_b_platooning" value="1" checked>有</label>
										</dd>
									</dl>
								</details>
								<!--//シナリオ2：路線B-->
							</div>
							<!--//シナリオ2-->
						</div>
					</div>
					<div class="c-area__btns column02 js-btns">
						<button class="c-btn c-btn__contents blue" type="submit">シミュレーション結果</button>
						<!-- <a class="c-btn c-btn__contents blue" href="list.html">結果一覧</a> -->
					</div>
				</div>
			</form>
		</main>
		<form class="l-fixed js-fixed" id="useful" action="./">
			<div class="l-fixed__box js-fixed-box">
				<h2 class="l-contents__tit l-fixed__tit">便利機能</h2>
				<dl class="l-fixed__setting">
					<dt class="center">外部データ読み込み</dt>
					<dd><input name="useful_file" class="c-input__file" type="file"></dd>
					<dt>⼟地利⽤予測</dt>
					<dd></dd>
					<dt>⼈⼝推計</dt>
					<dd></dd>
					<dt>感度分析</dt>
					<dd></dd>
					<dt>デフォルト値セット</dt>
					<dd></dd>
				</dl>
				<div class="c-area__btns column02 l-fixed__btns wide">
					<button class="c-btn c-btn__contents" type="submit">設定を保存する</button>
					<span class="c-btn c-btn__contents blue l-fixed__close js-fixed-close">便利機能を閉じる</span>
				</div>
			</div>
			<div class="l-fixed__bg js-fixed-close"></div>
		</form>
	</div>
	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> -->
	<script src="assets/js/jszip.min.js"></script>
	<script src="assets/js/leaflet/leaflet.js"></script>
	<script src="assets/js/common.js"></script>
	<script src="assets/js/map.js"></script>
	<script src="assets/js/simulation.js"></script>

	<script>
		const fareMinA = document.getElementById('fareRangeMin');
		const fareMaxA = document.getElementById('fareRangeMax');
		const inputMinA = document.getElementById('fareMinInput');
		const inputMaxA = document.getElementById('fareMaxInput');
		const rangeMarkA = document.querySelector('#current_a_fare .js-range-mark');

		function updateVisualA(minVal, maxVal) {
			const total = +fareMinA.max - +fareMinA.min;
			const pctMin = ((minVal - +fareMinA.min) / total) * 100;
			const pctMax = ((maxVal - +fareMinA.min) / total) * 100;

			rangeMarkA.style.left = pctMin + '%';
			rangeMarkA.style.width = (pctMax - pctMin) + '%';

			// update the display text
			document.querySelector('#current_a_fare .js-range-min-value').textContent = minVal;
			document.querySelector('#current_a_fare .js-range-max-value').textContent = maxVal;
			document.querySelector('#current_a_fare .js-range-diff').textContent = `(±${maxVal - minVal})`;
		}

		function syncSlidersA() {
			let minV = +fareMinA.value, maxV = +fareMaxA.value;
			if (minV > maxV) { minV = maxV; fareMinA.value = minV; }
			if (maxV < minV) { maxV = minV; fareMaxA.value = maxV; }
			inputMinA.value = minV;
			inputMaxA.value = maxV;
			updateVisualA(minV, maxV);
		}

		function syncInputsA() {
			let minV = +inputMinA.value, maxV = +inputMaxA.value;
			minV = isNaN(minV) ? +fareMinA.min : Math.max(+fareMinA.min, Math.min(minV, +fareMinA.max));
			maxV = isNaN(maxV) ? +fareMaxA.max : Math.max(+fareMaxA.min, Math.min(maxV, +fareMaxA.max));
			if (minV > maxV) minV = maxV;
			if (maxV < minV) maxV = minV;
			fareMinA.value = minV; fareMaxA.value = maxV;
			inputMinA.value = minV; inputMaxA.value = maxV;
			updateVisualA(minV, maxV);
		}

		// bind A events
		fareMinA.addEventListener('input', syncSlidersA);
		fareMaxA.addEventListener('input', syncSlidersA);
		inputMinA.addEventListener('input', syncInputsA);
		inputMaxA.addEventListener('input', syncInputsA);

		// thumb z-index swap
		fareMinA.addEventListener('pointerdown', () => { fareMinA.style.zIndex = 3; fareMaxA.style.zIndex = 2; });
		fareMaxA.addEventListener('pointerdown', () => { fareMaxA.style.zIndex = 3; fareMinA.style.zIndex = 2; });

		// Initial state for A
		fareMinA.value = 120;
		fareMaxA.value = 390;
		inputMinA.value = 120;
		inputMaxA.value = 390;
		updateVisualA(120, 390);

		document.querySelector('[data-reset="current_a_fare"]')
			.addEventListener('click', () => {
				fareMinA.value = 120;
				fareMaxA.value = 390;
				inputMinA.value = 120;
				inputMaxA.value = 390;
				updateVisualA(120, 390);
			});
	</script>


	<script>
		const fareMinB = document.getElementById('fareRangeMinB');
		const fareMaxB = document.getElementById('fareRangeMaxB');
		const inputMinB = document.getElementById('fareMinInputB');
		const inputMaxB = document.getElementById('fareMaxInputB');
		const hiddenMinB = document.getElementById('current_b_fare_min_hidden');
		const hiddenMaxB = document.getElementById('current_b_fare_max_hidden');
		const rangeMarkB = document.querySelector('#current_b_fare .js-range-mark');

		function updateVisualB(minVal, maxVal) {
			const total = +fareMinB.max - +fareMinB.min;
			const pctMin = ((minVal - +fareMinB.min) / total) * 100;
			const pctMax = ((maxVal - +fareMinB.min) / total) * 100;

			rangeMarkB.style.left = pctMin + '%';
			rangeMarkB.style.width = (pctMax - pctMin) + '%';

			document.querySelector('#current_b_fare .js-range-min-value').textContent = minVal;
			document.querySelector('#current_b_fare .js-range-max-value').textContent = maxVal;
			document.querySelector('#current_b_fare .js-range-diff').textContent = `(±${maxVal - minVal})`;

			hiddenMinB.value = minVal;
			hiddenMaxB.value = maxVal;
		}

		function syncSlidersB() {
			let minV = +fareMinB.value, maxV = +fareMaxB.value;
			if (minV > maxV) { minV = maxV; fareMinB.value = minV; }
			if (maxV < minV) { maxV = minV; fareMaxB.value = maxV; }
			inputMinB.value = minV;
			inputMaxB.value = maxV;
			updateVisualB(minV, maxV);
		}

		function syncInputsB() {
			let minV = +inputMinB.value, maxV = +inputMaxB.value;
			minV = isNaN(minV) ? +fareMinB.min : Math.max(+fareMinB.min, Math.min(minV, +fareMinB.max));
			maxV = isNaN(maxV) ? +fareMaxB.max : Math.max(+fareMaxB.min, Math.min(maxV, +fareMaxB.max));
			if (minV > maxV) minV = maxV;
			if (maxV < minV) maxV = minV;
			fareMinB.value = minV; fareMaxB.value = maxV;
			inputMinB.value = minV; inputMaxB.value = maxV;
			updateVisualB(minV, maxV);
		}

		// bind events for B
		fareMinB.addEventListener('input', syncSlidersB);
		fareMaxB.addEventListener('input', syncSlidersB);
		inputMinB.addEventListener('input', syncInputsB);
		inputMaxB.addEventListener('input', syncInputsB);

		// keep thumb on top when dragging
		fareMinB.addEventListener('pointerdown', () => {
			fareMinB.style.zIndex = 3;
			fareMaxB.style.zIndex = 2;
		});
		fareMaxB.addEventListener('pointerdown', () => {
			fareMaxB.style.zIndex = 3;
			fareMinB.style.zIndex = 2;
		});

		// initialize B on load
		fareMinB.value = 120;
		fareMaxB.value = 390;
		inputMinB.value = 120;
		inputMaxB.value = 390;
		updateVisualB(120, 390);

		// reset button for B
		document.querySelector('[data-reset="current_b_fare"]')
			.addEventListener('click', () => {
				fareMinB.value = 120;
				fareMaxB.value = 390;
				inputMinB.value = 120;
				inputMaxB.value = 390;
				updateVisualB(120, 390);
			});
	</script>

	<script>
		const minSlider = document.getElementById('fareRangeMin_scenario01_a');
		const maxSlider = document.getElementById('fareRangeMax_scenario01_a');
		const minInput = document.getElementById('fareMinInput_scenario01_a');
		const maxInput = document.getElementById('fareMaxInput_scenario01_a');
		const hiddenMin = document.getElementById('scenario01_a_fare_min');
		const hiddenMax = document.getElementById('scenario01_a_fare_max');
		const mark = document.querySelector('#scenario01_a_fare .js-range-mark');

		function updateScenario01Visual(minVal, maxVal) {
			const total = +minSlider.max - +minSlider.min;
			const pctMin = ((minVal - +minSlider.min) / total) * 100;
			const pctMax = ((maxVal - +minSlider.min) / total) * 100;
			mark.style.left = pctMin + '%';
			mark.style.width = (pctMax - pctMin) + '%';

			document.querySelector('#scenario01_a_fare .js-range-min-value').textContent = minVal;
			document.querySelector('#scenario01_a_fare .js-range-max-value').textContent = maxVal;
			document.querySelector('#scenario01_a_fare .js-range-diff').textContent = `(±${maxVal - minVal})`;

			hiddenMin.value = minVal;
			hiddenMax.value = maxVal;
		}

		function syncScenario01FromSliders() {
			let minVal = +minSlider.value;
			let maxVal = +maxSlider.value;
			if (minVal > maxVal) {
				minVal = maxVal;
				minSlider.value = minVal;
			}
			if (maxVal < minVal) {
				maxVal = minVal;
				maxSlider.value = maxVal;
			}
			minInput.value = minVal;
			maxInput.value = maxVal;
			updateScenario01Visual(minVal, maxVal);
		}

		function syncScenario01FromInputs() {
			let minVal = +minInput.value;
			let maxVal = +maxInput.value;

			minVal = isNaN(minVal) ? +minSlider.min : Math.max(+minSlider.min, Math.min(minVal, +minSlider.max));
			maxVal = isNaN(maxVal) ? +maxSlider.max : Math.max(+maxSlider.min, Math.min(maxVal, +maxSlider.max));

			if (minVal > maxVal) minVal = maxVal;
			if (maxVal < minVal) maxVal = minVal;

			minSlider.value = minVal;
			maxSlider.value = maxVal;
			minInput.value = minVal;
			maxInput.value = maxVal;
			updateScenario01Visual(minVal, maxVal);
		}

		// Z-index behavior
		minSlider.addEventListener('pointerdown', () => {
			minSlider.style.zIndex = 3;
			maxSlider.style.zIndex = 2;
		});

		maxSlider.addEventListener('pointerdown', () => {
			maxSlider.style.zIndex = 3;
			minSlider.style.zIndex = 2;
		});

		// Bind events
		minSlider.addEventListener('input', syncScenario01FromSliders);
		maxSlider.addEventListener('input', syncScenario01FromSliders);
		minInput.addEventListener('input', syncScenario01FromInputs);
		maxInput.addEventListener('input', syncScenario01FromInputs);

		// Initial setup
		minSlider.value = 140;
		maxSlider.value = 410;
		minInput.value = 140;
		maxInput.value = 410;
		updateScenario01Visual(140, 410);

		// Reset button
		document.querySelector('[data-reset="scenario01_a_fare"]')
			.addEventListener('click', () => {
				minSlider.value = 120;
				maxSlider.value = 390;
				minInput.value = 120;
				maxInput.value = 390;
				updateScenario01Visual(120, 390);
			});
	</script>

	<script>
		const fareMinB2 = document.getElementById('fareRangeMin_scenario01_b');
		const fareMaxB2 = document.getElementById('fareRangeMax_scenario01_b');
		const inputMinB2 = document.getElementById('fareMinInput_scenario01_b');
		const inputMaxB2 = document.getElementById('fareMaxInput_scenario01_b');
		const hiddenMinB2 = document.getElementById('scenario01_b_fare_min');
		const hiddenMaxB2 = document.getElementById('scenario01_b_fare_max');
		const rangeMarkB2 = document.querySelector('#scenario01_b_fare .js-range-mark');

		function updateVisualB2(minVal, maxVal) {
			const total = +fareMinB2.max - +fareMinB2.min;
			const pctMin = ((minVal - +fareMinB2.min) / total) * 100;
			const pctMax = ((maxVal - +fareMinB2.min) / total) * 100;

			rangeMarkB2.style.left = pctMin + '%';
			rangeMarkB2.style.width = (pctMax - pctMin) + '%';

			document.querySelector('#scenario01_b_fare .js-range-min-value').textContent = minVal;
			document.querySelector('#scenario01_b_fare .js-range-max-value').textContent = maxVal;
			document.querySelector('#scenario01_b_fare .js-range-diff').textContent = `(±${maxVal - minVal})`;

			hiddenMinB2.value = minVal;
			hiddenMaxB2.value = maxVal;
		}

		function syncSlidersB2() {
			let minVal = +fareMinB2.value;
			let maxVal = +fareMaxB2.value;

			if (minVal > maxVal) {
				minVal = maxVal;
				fareMinB2.value = minVal;
			}
			if (maxVal < minVal) {
				maxVal = minVal;
				fareMaxB2.value = maxVal;
			}

			inputMinB2.value = minVal;
			inputMaxB2.value = maxVal;
			updateVisualB2(minVal, maxVal);
		}

		function syncInputsB2() {
			let minVal = +inputMinB2.value;
			let maxVal = +inputMaxB2.value;

			minVal = isNaN(minVal) ? +fareMinB2.min : Math.max(+fareMinB2.min, Math.min(minVal, +fareMinB2.max));
			maxVal = isNaN(maxVal) ? +fareMaxB2.max : Math.max(+fareMaxB2.min, Math.min(maxVal, +fareMaxB2.max));

			if (minVal > maxVal) minVal = maxVal;
			if (maxVal < minVal) maxVal = minVal;

			fareMinB2.value = minVal;
			fareMaxB2.value = maxVal;
			inputMinB2.value = minVal;
			inputMaxB2.value = maxVal;
			updateVisualB2(minVal, maxVal);
		}

		fareMinB2.addEventListener('input', syncSlidersB2);
		fareMaxB2.addEventListener('input', syncSlidersB2);
		inputMinB2.addEventListener('input', syncInputsB2);
		inputMaxB2.addEventListener('input', syncInputsB2);

		fareMinB2.addEventListener('pointerdown', () => {
			fareMinB2.style.zIndex = 3;
			fareMaxB2.style.zIndex = 2;
		});

		fareMaxB2.addEventListener('pointerdown', () => {
			fareMaxB2.style.zIndex = 3;
			fareMinB2.style.zIndex = 2;
		});

		// Initialize
		fareMinB2.value = 120;
		fareMaxB2.value = 390;
		inputMinB2.value = 120;
		inputMaxB2.value = 390;
		updateVisualB2(120, 390);

		// Reset
		document.querySelector('[data-reset="scenario01_b_fare"]')
			.addEventListener('click', () => {
				fareMinB2.value = 120;
				fareMaxB2.value = 390;
				inputMinB2.value = 120;
				inputMaxB2.value = 390;
				updateVisualB2(120, 390);
			});
	</script>

	<script>
		const fareMin02A = document.getElementById('fareRangeMin_scenario02_a');
		const fareMax02A = document.getElementById('fareRangeMax_scenario02_a');
		const inputMin02A = document.getElementById('fareMinInput_scenario02_a');
		const inputMax02A = document.getElementById('fareMaxInput_scenario02_a');
		const hiddenMin02A = document.getElementById('scenario02_a_fare_min');
		const hiddenMax02A = document.getElementById('scenario02_a_fare_max');
		const mark02A = document.querySelector('#scenario02_a_fare .js-range-mark');

		const defaultMin = 120;
		const defaultMax = 390;

		function updateVisual02A(minVal, maxVal) {
			const total = +fareMin02A.max - +fareMin02A.min;
			const pctMin = ((minVal - +fareMin02A.min) / total) * 100;
			const pctMax = ((maxVal - +fareMin02A.min) / total) * 100;

			mark02A.style.left = pctMin + '%';
			mark02A.style.width = (pctMax - pctMin) + '%';

			document.querySelector('#scenario02_a_fare .js-range-min-value').textContent = minVal;
			document.querySelector('#scenario02_a_fare .js-range-max-value').textContent = maxVal;

			const delta = (maxVal - defaultMax) + (minVal - defaultMin);
			const diffText = delta === 0 ? '(±0)' : (delta > 0 ? `(+${delta})` : `(${delta})`);
			document.querySelector('#scenario02_a_fare .js-range-diff').textContent = diffText;

			hiddenMin02A.value = minVal;
			hiddenMax02A.value = maxVal;
		}

		function syncSliders02A() {
			let minVal = +fareMin02A.value;
			let maxVal = +fareMax02A.value;

			if (minVal > maxVal) {
				minVal = maxVal;
				fareMin02A.value = minVal;
			}
			if (maxVal < minVal) {
				maxVal = minVal;
				fareMax02A.value = maxVal;
			}

			inputMin02A.value = minVal;
			inputMax02A.value = maxVal;
			updateVisual02A(minVal, maxVal);
		}

		function syncInputs02A() {
			let minVal = +inputMin02A.value;
			let maxVal = +inputMax02A.value;

			minVal = isNaN(minVal) ? +fareMin02A.min : Math.max(+fareMin02A.min, Math.min(minVal, +fareMin02A.max));
			maxVal = isNaN(maxVal) ? +fareMax02A.max : Math.max(+fareMax02A.min, Math.min(maxVal, +fareMax02A.max));

			if (minVal > maxVal) minVal = maxVal;
			if (maxVal < minVal) maxVal = minVal;

			fareMin02A.value = minVal;
			fareMax02A.value = maxVal;
			inputMin02A.value = minVal;
			inputMax02A.value = maxVal;

			updateVisual02A(minVal, maxVal);
		}

		// Events
		fareMin02A.addEventListener('input', syncSliders02A);
		fareMax02A.addEventListener('input', syncSliders02A);
		inputMin02A.addEventListener('input', syncInputs02A);
		inputMax02A.addEventListener('input', syncInputs02A);

		fareMin02A.addEventListener('pointerdown', () => {
			fareMin02A.style.zIndex = 3;
			fareMax02A.style.zIndex = 2;
		});

		fareMax02A.addEventListener('pointerdown', () => {
			fareMax02A.style.zIndex = 3;
			fareMin02A.style.zIndex = 2;
		});

		// Initial State
		fareMin02A.value = 160;
		fareMax02A.value = 430;
		inputMin02A.value = 160;
		inputMax02A.value = 430;
		updateVisual02A(160, 430);

		// Reset
		document.querySelector('[data-reset="scenario02_a_fare"]')
			.addEventListener('click', () => {
				fareMin02A.value = defaultMin;
				fareMax02A.value = defaultMax;
				inputMin02A.value = defaultMin;
				inputMax02A.value = defaultMax;
				updateVisual02A(defaultMin, defaultMax);
			});
	</script>

	<script>
		const fareMin02B = document.getElementById('fareRangeMin_scenario02_b');
		const fareMax02B = document.getElementById('fareRangeMax_scenario02_b');
		const inputMin02B = document.getElementById('fareMinInput_scenario02_b');
		const inputMax02B = document.getElementById('fareMaxInput_scenario02_b');
		const hiddenMin02B = document.getElementById('scenario02_b_fare_min');
		const hiddenMax02B = document.getElementById('scenario02_b_fare_max');
		const mark02B = document.querySelector('#scenario02_b_fare .js-range-mark');

		const defaultMinB = 120;
		const defaultMaxB = 390;

		function updateVisual02B(minVal, maxVal) {
			const total = +fareMin02B.max - +fareMin02B.min;
			const pctMin = ((minVal - +fareMin02B.min) / total) * 100;
			const pctMax = ((maxVal - +fareMin02B.min) / total) * 100;

			mark02B.style.left = pctMin + '%';
			mark02B.style.width = (pctMax - pctMin) + '%';

			document.querySelector('#scenario02_b_fare .js-range-min-value').textContent = minVal;
			document.querySelector('#scenario02_b_fare .js-range-max-value').textContent = maxVal;

			const delta = (maxVal - defaultMaxB) + (minVal - defaultMinB);
			const diffText = delta === 0 ? '(±0)' : (delta > 0 ? `(+${delta})` : `(${delta})`);
			document.querySelector('#scenario02_b_fare .js-range-diff').textContent = diffText;

			hiddenMin02B.value = minVal;
			hiddenMax02B.value = maxVal;
		}

		function syncSliders02B() {
			let minVal = +fareMin02B.value;
			let maxVal = +fareMax02B.value;

			if (minVal > maxVal) {
				minVal = maxVal;
				fareMin02B.value = minVal;
			}
			if (maxVal < minVal) {
				maxVal = minVal;
				fareMax02B.value = maxVal;
			}

			inputMin02B.value = minVal;
			inputMax02B.value = maxVal;
			updateVisual02B(minVal, maxVal);
		}

		function syncInputs02B() {
			let minVal = +inputMin02B.value;
			let maxVal = +inputMax02B.value;

			minVal = isNaN(minVal) ? +fareMin02B.min : Math.max(+fareMin02B.min, Math.min(minVal, +fareMin02B.max));
			maxVal = isNaN(maxVal) ? +fareMax02B.max : Math.max(+fareMax02B.min, Math.min(maxVal, +fareMax02B.max));

			if (minVal > maxVal) minVal = maxVal;
			if (maxVal < minVal) maxVal = minVal;

			fareMin02B.value = minVal;
			fareMax02B.value = maxVal;
			inputMin02B.value = minVal;
			inputMax02B.value = maxVal;
			updateVisual02B(minVal, maxVal);
		}

		// Event bindings
		fareMin02B.addEventListener('input', syncSliders02B);
		fareMax02B.addEventListener('input', syncSliders02B);
		inputMin02B.addEventListener('input', syncInputs02B);
		inputMax02B.addEventListener('input', syncInputs02B);

		fareMin02B.addEventListener('pointerdown', () => {
			fareMin02B.style.zIndex = 3;
			fareMax02B.style.zIndex = 2;
		});

		fareMax02B.addEventListener('pointerdown', () => {
			fareMax02B.style.zIndex = 3;
			fareMin02B.style.zIndex = 2;
		});

		// Initialize on load
		fareMin02B.value = defaultMinB;
		fareMax02B.value = defaultMaxB;
		inputMin02B.value = defaultMinB;
		inputMax02B.value = defaultMaxB;
		updateVisual02B(defaultMinB, defaultMaxB);

		// Reset
		document.querySelector('[data-reset="scenario02_b_fare"]')
			.addEventListener('click', () => {
				fareMin02B.value = defaultMinB;
				fareMax02B.value = defaultMaxB;
				inputMin02B.value = defaultMinB;
				inputMax02B.value = defaultMaxB;
				updateVisual02B(defaultMinB, defaultMaxB);
			});
	</script>
</body>

</html>