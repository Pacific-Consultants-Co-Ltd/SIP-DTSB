<!DOCTYPE html>
<html lang="ja">

<head>
	<title>【登録した結果一覧】デジタルツインサンドボックス</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css" />

	<style>
		/* SCROLLABLE TABLE */
		.c-area__scroll {
			max-height: 400px;
			overflow-y: auto;
			overflow-x: auto;
			position: relative;
			padding: 0 !important;
			margin: 0 !important;
		}

		.c-box {
			padding: 0 !important;
			margin: 0 !important;
			border-radius: 0 !important;
			box-shadow: none !important;
		}

		.p-list__table {
			margin-top: 0 !important;
		}

		/* STICKY HEADER */
		.p-list__table thead {
			position: sticky;
			top: 0;
			z-index: 10;
			box-shadow: 0 4px 6px -4px rgba(0, 0, 0, 0.3);
		}

		.p-list__table thead {
			position: sticky;
			top: 0;
			z-index: 100;
			/* increase */
			/* REMOVE box-shadow here if needed */
			overflow: visible !important;
			/* <-- fix */
		}
	</style>

	<style>
		.checkbox-header {
			position: relative;
			width: 40px;
			/* adjust as needed */
			padding: 0;
		}

		/* Tooltip bubble */
		.checkbox-header .bubble {
			position: absolute;
			top: -60px;
			left: 50%;
			transform: translateX(-50%);
			width: max-content;
			max-width: 140px;
			background: #fff;
			color: #333;
			border: 1px solid #ccc;
			border-radius: 8px;
			font-size: 12px;
			padding: 6px 8px;
			text-align: center;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			z-index: 20;
			white-space: nowrap;
		}

		/* Tooltip arrow */
		.checkbox-header .bubble::after {
			content: '';
			position: absolute;
			bottom: -8px;
			left: 50%;
			transform: translateX(-50%);
			border-width: 8px 8px 0 8px;
			border-style: solid;
			border-color: #fff transparent transparent transparent;
		}

		.bubble-checkbox-tip {
			position: absolute;
			top: 130px;
			/* tweak this until it sits right under your H1 */
			left: 80px;
			/* roughly half the width of your checkbox column */
			transform: translateX(-50%);
			z-index: 999;
			width: max-content;
			max-width: 180px;
			background: #fff;
			color: #333;
			border: 1px solid #ccc;
			border-radius: 8px;
			font-size: 12px;
			padding: 6px 10px;
			text-align: center;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
			white-space: nowrap;
			z-index: 999;
		}

		.bubble-checkbox-tip::after {
			content: '';
			position: absolute;
			bottom: -8px;
			left: 50%;
			transform: translateX(-50%);
			border-width: 8px 8px 0 8px;
			border-style: solid;
			border-color: #fff transparent transparent transparent;
		}

		.c-btn.disabled,
		.c-btn[aria-disabled="true"] {
			background-color: #ccc !important;
			color: #666 !important;
			cursor: not-allowed;
			pointer-events: none;
			text-decoration: none;
		}
	</style>

</head>

<body>
	<div class="l-container js-menu-toggle p-list">
		<header class="l-header">
			<div class="l-header__tit js-menu-toggle">
				<span class="l-header__tit-en">DTSB</span>
				<h1 class="l-header__tit-jp">デジタルツインサンドボックス</h1>
			</div>
			<nav class="l-header__nav">
				<a href="#" class="l-header__nav-link logout js-menu-toggle"><span>ログアウト</span></a>
				<a href="./"
					class="l-header__nav-link simulation js-menu-toggle js-menu-simulation"><span>シミュレーション</span></a>
				<a href="list.html" class="l-header__nav-link results current js-menu-toggle"><span>結果一覧</span></a>
				<span class="l-header__nav-link menu js-menu-open js-menu-toggle"><span>メニューを閉じる</span></span>
			</nav>
		</header>
		<main class="l-contents">
			<header class="l-contents__head">
				<div class="breadcrumb-wrapper">
					<nav class="breadcrumb-arrow" aria-label="ページ階層">
						<ul>
							<li class="step step-input"><a href="index.html">入力</a></li>
							<li class="step step-results"><a href="results.html">結果</a></li>
							<li class="step step-list"><a href="list.html" aria-current="page">結果一覧</a></li>
						</ul>
					</nav>
				</div>
				<h1 class="l-contents__tit">登録した結果一覧</h1>
			</header>
			<div class="l-contents__main">
				<div class="l-contents__data">
					<div class="bubble-checkbox-tip">
						2つ以上選択すると<br>グラフで比較できます
					</div>

					<div class="c-box c-area__scroll">
						<table class="c-table p-list__table">
							<thead>
								<tr>


									<th rowspan="2" class="u-ta-left">名称</th>
									<th>
										評価
										<label class="c-btn__sort">
											<input type="checkbox" name="sort" value="2">
											<span class="c-btn__sort-inner">高い順</span>
										</label>
									</th>
									<th>
										<span class="u-ib">平均</span><span class="u-ib">所要時間</span>
										<label class="c-btn__sort">
											<input type="checkbox" name="sort" value="3">
											<span class="c-btn__sort-inner">高い順</span>
										</label>
									</th>
									<th>
										<span class="u-ib">運行</span><span class="u-ib">コスト</span>
										<label class="c-btn__sort">
											<input type="checkbox" name="sort" value="4">
											<span class="c-btn__sort-inner">高い順</span>
										</label>
									</th>
									<th>
										<span class="u-ib">交通事故</span><span class="u-ib">発生率</span>
										<label class="c-btn__sort">
											<input type="checkbox" name="sort" value="4">
											<span class="c-btn__sort-inner">高い順</span>
										</label>
									</th>
									<th>
										<span class="u-ib">平均</span><span class="u-ib">乗客数</span>
										<label class="c-btn__sort">
											<input type="checkbox" name="sort" value="4">
											<span class="c-btn__sort-inner">高い順</span>
										</label>
									</th>
									<th>
										<span class="u-ib">交流発生</span><span class="u-ib">効果</span>
										<label class="c-btn__sort">
											<input type="checkbox" name="sort" value="4">
											<span class="c-btn__sort-inner">高い順</span>
										</label>
									</th>
									<th>
										<span class="u-ib">渋滞発生</span><span class="u-ib">頻度</span>
										<label class="c-btn__sort">
											<input type="checkbox" name="sort" value="4">
											<span class="c-btn__sort-inner">高い順</span>
										</label>
									</th>
								</tr>


							</thead>
							<tbody>
								<tr>
									<td class="p-list__table-checkbox">
										<label class="c-input__checkbox">
											<input type="checkbox" name="comparison[]" value="result01">
											<i class="c-input__checkbox-ico"></i>
										</label>
									</td>
									<th>
										<span>○○を意識した解析</span>
										<ul class="c-table__action">
											<li><a class="c-table__action-link u-nowrap" href="./">入力画面</a></li>
											<li><a class="c-table__action-link u-nowrap" href="results.html">結果画面</a>
											</li>
										</ul>
									</th>
									<td class="p-list__table-star u-en" data-star="4"><i class="c-ico__star fill"></i>4
									</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">B</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">C</td>
									<td class="p-list__table-evaluation u-en">D</td>
								</tr>
								<tr>
									<td class="p-list__table-checkbox">
										<label class="c-input__checkbox">
											<input type="checkbox" name="comparison[]" value="result02">
											<i class="c-input__checkbox-ico"></i>
										</label>
									</td>
									<th>
										<span>○○を意識した解析</span>
										<ul class="c-table__action">
											<li><a class="c-table__action-link u-nowrap" href="./">入力画面</a></li>
											<li><a class="c-table__action-link u-nowrap" href="results.html">結果画面</a>
											</li>
										</ul>
									</th>
									<td class="p-list__table-star u-en" data-star="3"><i class="c-ico__star fill"></i>3
									</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">C</td>
									<td class="p-list__table-evaluation u-en">B</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">C</td>
									<td class="p-list__table-evaluation u-en">B</td>
								</tr>
								<tr>
									<td class="p-list__table-checkbox">
										<label class="c-input__checkbox">
											<input type="checkbox" name="comparison[]" value="result03">
											<i class="c-input__checkbox-ico"></i>
										</label>
									</td>
									<th>
										<span>○○を意識した解析</span>
										<ul class="c-table__action">
											<li><a class="c-table__action-link u-nowrap" href="./">入力画面</a></li>
											<li><a class="c-table__action-link u-nowrap" href="results.html">結果画面</a>
											</li>
										</ul>
									</th>
									<td class="p-list__table-star u-en" data-star="1"><i class="c-ico__star fill"></i>1
									</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">B</td>
									<td class="p-list__table-evaluation u-en">D</td>
									<td class="p-list__table-evaluation u-en">D</td>
									<td class="p-list__table-evaluation u-en">C</td>
									<td class="p-list__table-evaluation u-en">D</td>
								</tr>
								<tr>
									<td class="p-list__table-checkbox">
										<label class="c-input__checkbox">
											<input type="checkbox" name="comparison[]" value="result04">
											<i class="c-input__checkbox-ico"></i>
										</label>
									</td>
									<th>
										<span>○○を意識した解析</span>
										<ul class="c-table__action">
											<li><a class="c-table__action-link u-nowrap" href="./">入力画面</a></li>
											<li><a class="c-table__action-link u-nowrap" href="results.html">結果画面</a>
											</li>
										</ul>
									</th>
									<td class="p-list__table-star u-en" data-star="5"><i class="c-ico__star fill"></i>5
									</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">B</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">C</td>
									<td class="p-list__table-evaluation u-en">A</td>
								</tr>
								<tr>
									<td class="p-list__table-checkbox">
										<label class="c-input__checkbox">
											<input type="checkbox" name="comparison[]" value="result05">
											<i class="c-input__checkbox-ico"></i>
										</label>
									</td>
									<th>
										<span>○○を意識した解析</span>
										<ul class="c-table__action">
											<li><a class="c-table__action-link u-nowrap" href="./">入力画面</a></li>
											<li><a class="c-table__action-link u-nowrap" href="results.html">結果画面</a>
											</li>
										</ul>
									</th>
									<td class="p-list__table-star u-en" data-star="4"><i class="c-ico__star fill"></i>4
									</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">B</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">A</td>
									<td class="p-list__table-evaluation u-en">C</td>
									<td class="p-list__table-evaluation u-en">D</td>
								</tr>
							</tbody>
						</table>
					</div>
					<div class="c-area__btns column03 wide js-btns">
						<a id="compareButton" class="c-btn c-btn__contents blue disabled" href="list_graph.html"
							aria-disabled="true">グラフで比較</a>
						<a class="c-btn c-btn__contents blue" href="#">CSVで出力</a>
						<a class="c-btn c-btn__contents black" href="./">入力に戻る</a>
					</div>
				</div>
			</div>
		</main>
	</div>
	<script src="assets/js/common.js"></script>
	<script>
		const checkboxes = document.querySelectorAll('input[name="sort"]');
		window.addEventListener('DOMContentLoaded', () => {
			checkboxes.forEach(checkbox => {
				checkbox.checked = false;
			});
		});
		const table = document.querySelector('.p-list__table');
		const tbody = table.querySelector('tbody');
		const rows = Array.from(tbody.querySelectorAll('tr'));
		const originalRows = rows.slice(); // 元の順序で行の配列を保持
		checkboxes.forEach(checkbox => {
			checkbox.addEventListener('click', () => {
				if (checkbox.checked) {
					checkboxes.forEach(otherCheckbox => {
						if (otherCheckbox !== checkbox) {
							otherCheckbox.checked = false;
						}
					});
					sortTable(checkbox.value);
				} else {
					// チェックが外れた場合、元の順序でテーブルを再描画
					tbody.innerHTML = '';
					originalRows.forEach(row => tbody.appendChild(row));
				}
			});
		});
		function sortTable(sortValue) {
			let sortedRows;
			if (sortValue === '2') {
				sortedRows = rows.sort((a, b) => {
					const starAElement = a.querySelector('[data-star]');
					const starBElement = b.querySelector('[data-star]');
					if (starAElement && starBElement) {
						const starA = parseInt(starAElement.dataset.star);
						const starB = parseInt(starBElement.dataset.star);
						return starB - starA;
					} else {
						return 0;
					}
				});
			} else {
				sortedRows = rows.sort((a, b) => {
					const valueA = a.cells[sortValue].textContent;
					const valueB = b.cells[sortValue].textContent;
					return valueA.localeCompare(valueB);
				});
			}
			tbody.innerHTML = '';
			sortedRows.forEach(row => tbody.appendChild(row));
		}
	</script>

	<script>
		window.addEventListener('DOMContentLoaded', () => {
			const bubble = document.querySelector('.bubble-checkbox-tip');
			if (bubble) {
				setTimeout(() => {
					bubble.style.display = 'none';
				}, 5000); // hides after 5 seconds
			}
		});
	</script>

	<script>
		document.addEventListener('DOMContentLoaded', () => {
			const compareButton = document.getElementById('compareButton');
			const comparisonCheckboxes = document.querySelectorAll('input[name="comparison[]"]');

			function updateCompareButtonState() {
				const checkedCount = [...comparisonCheckboxes].filter(cb => cb.checked).length;

				if (checkedCount >= 2) {
					compareButton.classList.remove('disabled');
					compareButton.setAttribute('aria-disabled', 'false');
				} else {
					compareButton.classList.add('disabled');
					compareButton.setAttribute('aria-disabled', 'true');
				}
			}

			comparisonCheckboxes.forEach(cb => {
				cb.addEventListener('change', updateCompareButtonState);
			});

			updateCompareButtonState(); // initial state
		});
	</script>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const breadcrumbLinks = document.querySelectorAll('.breadcrumb-arrow a');
			breadcrumbLinks.forEach(link => {
				link.addEventListener('click', function (e) {
					e.preventDefault();
				});
			});
		});
	</script>



</body>

</html>